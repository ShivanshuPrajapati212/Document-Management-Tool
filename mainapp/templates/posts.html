{% extends 'base_generic.html' %}

{% load file_type_filters %}
{% load static %}
{% block content %}
<div class="container mt-6 mx-auto flex flex-col items-center justify-center text-center">
    <h1 class="flex items-center text-5xl font-extrabold">
        Posts
        <span class="bg-blue-100 text-blue-800 text-2xl font-semibold ml-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800">
            Public
        </span>
    </h1>
</div>

<div class="container mx-auto">
    <ul role="list" class="divide-y divide-gray-100">
        {% for post in posts %}
        <li class="flex justify-between gap-x-6 py-5">
          <div class="flex min-w-0 gap-x-4">
            {% if post.file.url|file_type == 'code' %}
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://cdn-icons-png.freepik.com/512/10055/10055490.png?ga=GA1.1.2102322079.1720339537" alt="">
            {% elif post.file.url|file_type == 'document' %}
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://cdn-icons-png.freepik.com/512/11266/11266630.png?ga=GA1.1.2102322079.1720339537" alt="">
            {% elif post.file.url|file_type == 'image' %}
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://cdn-icons-png.freepik.com/512/10190/10190915.png?ga=GA1.1.2102322079.1720339537" alt="">
            {% else %}
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://cdn-icons-png.freepik.com/512/8568/8568981.png?ga=GA1.1.2102322079.1720339537" alt="">
            {% endif %}
            <div class="min-w-0 flex-auto">
              <p class="text-sm font-semibold leading-6 text-gray-900">{{ post.title }}</p>
              <p class="mt-1 truncate text-xs leading-5 text-gray-500">{{ post.file.url }}</p>
            </div>
          </div>
          <div class="hidden shrink-0 sm:flex sm:flex-col sm:items-end">
            <p class="text-sm leading-6 text-gray-900">Author: {{ post.author }}</p>
            <a href="{% url 'post_detail' post.id %}" class="text-sm leading-6 text-blue-800">Open</a>
          </div>
        </li>
        {% endfor %}
      </ul>
</div>

{% endblock %}